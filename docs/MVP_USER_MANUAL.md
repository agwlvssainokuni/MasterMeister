# MasterMeister MVP 利用マニュアル

## 概要

MasterMeisterは、複数のデータベースシステムに保存されたマスターデータを安全に閲覧・管理するためのWebアプリケーションです。このマニュアルでは、MVP（最小実用製品）版の基本的な利用方法を説明します。

---

## 1. システム要件

### 対応ブラウザ
- Chrome 90以降（推奨）
- Firefox 90以降
- Safari 14以降
- Edge 90以降

### 画面解像度
- 最小幅: 320px（モバイル対応）
- 推奨幅: 1024px以上（デスクトップ）

---

## 2. アカウント登録とログイン

### 2.1 新規ユーザー登録

1. **メールアドレス登録**
   - ブラウザでアプリケーションにアクセス
   - 「新規登録」をクリック
   - メールアドレスを入力して「登録メールを送信」
   - 確認メールが送信されます

2. **アカウント作成完了**
   - 受信したメール内のリンクをクリック
   - ユーザー名とパスワードを設定
   - 「登録完了」をクリック
   - 管理者の承認待ち状態になります

3. **管理者承認**
   - 管理者がアカウントを承認すると承認通知メールが送信されます
   - 承認後、ログインが可能になります

### 2.2 ログイン

1. ログイン画面でメールアドレスとパスワードを入力
2. 「ログイン」ボタンをクリック
3. 認証成功後、ダッシュボードに遷移します

---

## 3. データベース接続設定（管理者のみ）

### 3.1 新しいデータベース接続の追加

1. **管理者ダッシュボードにアクセス**
   - 右上メニューから「管理者」を選択
   - 「データベース」タブをクリック

2. **接続情報の入力**
   - 「新しい接続を追加」ボタンをクリック
   - 以下の情報を入力：
     - 接続名: 識別しやすい名前
     - データベース種類: MySQL, MariaDB, PostgreSQL, H2から選択
     - ホスト名: データベースサーバーのアドレス
     - ポート番号: データベースのポート
     - データベース名: 接続先データベース名
     - ユーザー名: データベースユーザー
     - パスワード: データベースパスワード

3. **接続テストと保存**
   - 「接続テスト」ボタンで設定を確認
   - 接続成功を確認後「保存」ボタンをクリック

### 3.2 スキーマインポート

1. **スキーマ更新の実行**
   - 保存された接続の「スキーマ更新」ボタンをクリック
   - インポート処理の完了を待機
   - テーブル一覧が表示されることを確認

---

## 4. 権限設定（管理者のみ）

### 4.1 ユーザー権限の設定

1. **権限管理画面にアクセス**
   - 管理者ダッシュボード → 「権限」タブ

2. **権限の付与**
   - 対象ユーザーを選択
   - 権限を付与するテーブル・カラムを選択
   - 権限レベルを設定（READ/WRITE/DELETE）
   - 「保存」ボタンで設定完了

### 4.2 権限テンプレートの活用

1. **一括権限設定**
   - よく使用する権限パターンをテンプレート化
   - 複数ユーザーへの同一権限付与が効率的

---

## 5. データ閲覧・操作

### 5.1 テーブル選択

1. **データアクセス画面**
   - メインメニューから「データアクセス」を選択
   - 左側のデータベースツリーを展開

2. **テーブル選択**
   - 閲覧したいテーブルをクリック
   - 権限のあるテーブルのみ表示されます

### 5.2 データ表示とナビゲーション

1. **基本表示**
   - 選択したテーブルのレコードが右側に表示
   - デフォルトで最初の50件が表示されます

2. **ページネーション**
   - 画面下部のページ番号で移動
   - 「前へ」「次へ」ボタンでページ送り
   - ページサイズの変更も可能

### 5.3 データフィルタリング

1. **フィルター設定**
   - テーブル下部のフィルターバーを使用
   - カラムを選択して検索条件を入力
   - 条件演算子（=, !=, LIKE等）を選択

2. **フィルター適用**
   - 複数カラムでの条件組み合わせ可能
   - 「適用」ボタンで一括フィルター実行
   - 「すべてクリア」でフィルター解除

### 5.4 データソート

1. **カラムヘッダークリック**
   - ソートしたいカラム名をクリック
   - 昇順/降順の切り替えが可能
   - ソート状態がアイコンで表示されます

### 5.5 横スクロールと固定列

1. **多数カラムのテーブル**
   - 画面幅を超える場合、横スクロールが自動で有効
   - 操作列（左端）は常に固定表示
   - 主キー列も固定表示される場合があります

---

## 6. メタデータ表示

### 6.1 テーブル構造確認

1. **メタデータタブ**
   - データ表示画面で「メタデータ」タブをクリック
   - テーブルの構造情報が表示されます

2. **表示内容**
   - カラム名、データ型、制約条件
   - インデックス情報
   - 外部キー関係

---

## 7. トラブルシューティング

### 7.1 よくある問題

**ログインできない**
- メールアドレス・パスワードの確認
- 管理者承認が完了しているか確認
- アカウントがロックされていないか確認

**テーブルが表示されない**
- データベース接続が正常か確認
- スキーマインポートが完了しているか確認
- テーブルへのアクセス権限があるか確認

**データが表示されない**
- テーブル選択ができているか確認
- 権限設定でREAD権限があるか確認
- フィルター条件が厳しすぎないか確認

### 7.2 エラーメッセージ

**認証エラー**
- セッション切れの場合: 再ログインしてください
- 権限不足の場合: 管理者に権限付与を依頼してください

**接続エラー**
- ネットワーク接続を確認してください
- データベースサーバーの稼働状況を確認してください

---

## 8. セキュリティについて

### 8.1 安全な利用のために

- **パスワード管理**
  - 強固なパスワードを設定してください
  - 定期的なパスワード変更を推奨します

- **ログアウト**
  - 利用終了時は必ずログアウトしてください
  - 共用端末では特に注意してください

- **アクセス権限**
  - 必要最小限の権限での利用を推奨します
  - 不要な権限は管理者に削除を依頼してください

### 8.2 監査ログ

- システムは以下の操作を記録します：
  - ログイン・ログアウト
  - データアクセス（大量データクエリ）
  - 権限変更
  - データベース設定変更

---

## 9. サポート

### 9.1 問い合わせ

- **技術的な問題**: システム管理者まで
- **権限に関する問題**: データベース管理者まで
- **操作方法の質問**: 本マニュアルを参照

### 9.2 システム要件

- **バックエンド**: Spring Boot 3.5 + Java 21
- **フロントエンド**: React 19 + Node.js 22
- **対応データベース**: MySQL, MariaDB, PostgreSQL, H2

---

## 付録

### A. デフォルト管理者アカウント
- **メールアドレス**: admin@example.com
- **パスワード**: password
- **注意**: 初回セットアップ時にパスワードを変更してください

### B. 開発者向け情報
- **API仕様**: http://localhost:8080/api/swagger-ui.html
- **H2コンソール**: http://localhost:8080/h2-console （開発環境のみ）

---

*このマニュアルはMVP版（Phase 4.4）時点での内容です。機能追加に伴い随時更新されます。*

**最終更新**: 2025年8月31日  
**対象バージョン**: Phase 4.4 MVP